/*!
 * jQuery Lazy - min - v0.3.8
 * http://jquery.eisbehr.de/lazy/
 * http://eisbehr.de/
 *
 * Copyright 2014, Daniel 'Eisbehr' Kern
 *
 * Dual licensed under the MIT and GPL-2.0 licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl-2.0.html
 *
 * jQuery("img.lazy").lazy();
 */
!function(t,e,n,i){t.fn.lazy=function(r){"use strict";function o(){return p>=0?p:p=e.innerWidth||n.documentElement.clientWidth||n.body.clientWidth||n.body.offsetWidth||A.fallbackWidth}function a(){if(E=e.devicePixelRatio>1,k=o()<=A.mobileWidth,null!==A.defaultImage||null!==A.placeholder)for(var n=0;n<g.length;n++){var i=t(g[n]);null===A.defaultImage||i.attr("src")||i.attr("src",A.defaultImage),null===A.placeholder||i.css("background-image")&&"none"!=i.css("background-image")||i.css("background-image","url("+A.placeholder+")")}A.delay>=0&&setTimeout(function(){l(!0)},A.delay),(A.delay<0||A.combined)&&(l(!1),m(function(){t(A.appendScroll).bind("scroll",f(A.throttle,function(){m(function(){l(!1)},this,!0)}))},this),m(function(){t(A.appendScroll).bind("resize",f(A.throttle,function(){p=y=-1,m(function(){l(!1)},this,!0)}))},this))}function l(e){if(g.length){for(var n=!1,i=0;i<g.length;i++)!function(){var r=g[i],o=t(r);if(c(r)||e){var a=r.tagName.toLowerCase();!o.attr(A.attribute)||!("img"==a&&o.attr(A.attribute)!=o.attr("src")||"img"!=a&&o.attr(A.attribute)!=o.css("background-image"))||o.data(A.handledName)||!o.is(":visible")&&A.visibleOnly||(n=!0,o.data(A.handledName,!0),m(function(){u(o,a)},this))}}();n&&m(function(){g=t(g).filter(function(){return!t(this).data(A.handledName)})},this)}}function u(n,i){var r=t(new Image);++v,r.error(A.onError?function(){s(A.onError,n),h()}:function(){h()});var o=!1;if(r.one("load",function(){var t=function(){return o?(n.hide(),"img"==i?n.attr("src",r.attr("src")):n.css("background-image","url("+r.attr("src")+")"),n[A.effect](A.effectTime),A.removeAttribute&&(n.removeAttr(A.attribute),n.removeAttr(A.retinaAttribute),n.removeAttr(A.mobileAttribute)),s(A.afterLoad,n),r.unbind("load").remove(),void h()):void e.setTimeout(t,100)};t()}),s(A.beforeLoad,n),E&&n.attr(A.retinaAttribute))var a=n.attr(A.retinaAttribute);else if(k&&n.attr(A.mobileAttribute))var a=n.attr(A.mobileAttribute);else var a=n.attr(A.attribute);r.attr("src",a),s(A.onLoad,n),o=!0,r.complete&&r.load()}function c(t){var e=o(),n=d(),i=t.getBoundingClientRect(),r=n+A.threshold>i.top&&-A.threshold<i.bottom,a=e+A.threshold>i.left&&-A.threshold<i.right;return"vertical"==A.scrollDirection?r:"horizontal"==A.scrollDirection?a:r&&a}function d(){return y>=0?y:y=e.innerHeight||n.documentElement.clientHeight||n.body.clientHeight||n.body.offsetHeight||A.fallbackHeight}function f(t,e){function n(){function n(){o=+new Date,e.apply(i)}var a=+new Date-o;r&&clearTimeout(r),a>t||!A.enableThrottle?n():r=setTimeout(n,t-a)}var r,o=0;return n}function h(){--v,g.size()||v||s(A.onFinishedAll,null)}function s(t,e){t&&(e?m(function(){t(e)},this):m(t,this))}function b(){w=setTimeout(function(){m(),L.length&&b()},2)}function m(t,n,i){if(t)return A.enableQueueing?((!i||i&&!T)&&(L.push([t,n,i]),i&&(T=!0)),void(1==L.length&&b())):void t.call(n||e);var r=L.shift();r&&(r[2]&&(T=!1),r[0].call(r[1]||e))}var A={bind:"load",threshold:500,fallbackWidth:2e3,fallbackHeight:2e3,visibleOnly:!1,appendScroll:e,scrollDirection:"both",defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,mobileWidth:500,delay:-1,combined:!1,attribute:"data-src",retinaAttribute:"data-retina",mobileAttribute:"data-mobile",removeAttribute:!0,handledName:"handled",effect:"show",effectTime:0,enableThrottle:!1,throttle:250,enableQueueing:!0,beforeLoad:null,onLoad:null,afterLoad:null,onError:null,onFinishedAll:null},g=this,v=0,p=-1,y=-1,E=!1,k=!1,w=null,L=[],T=!1;return function(){r&&t.extend(A,r),A.onError&&g.each(function(){var e=this;m(function(){t(e).bind("error",function(){s(A.onError,t(this))})},e)}),"load"==A.bind?t(e).load(a):"event"==A.bind&&a()}(),this},t.fn.Lazy=t.fn.lazy}(jQuery,window,document);